# =============================================================================
# Symphony Smart Homes — AI-Server Environment Variables
# Host: Bob (Mac Mini M4, Apple Silicon)
#
# USAGE:
#   cp .env.example .env
#   nano .env          # Fill in every value marked REQUIRED
#   ./start_symphony.sh
#
# SECURITY:
#   • Never commit .env to version control
#   • Restrict file permissions:  chmod 600 .env
#   • Rotate all tokens immediately if this file is ever exposed
#
# SECTIONS:
#   1. Global / Environment
#   2. AI Model Keys
#   3. Redis
#   4. Ollama (external — Maestro)
#   5. Voice Receptionist (Twilio)
#   6. D-Tools Cloud
#   7. Telegram Bot
#   8. Home Assistant & MQTT
#   9. Per-service Log Levels
# =============================================================================


# -----------------------------------------------------------------------------
# 1. GLOBAL / ENVIRONMENT
# -----------------------------------------------------------------------------

# Runtime environment. Set to "production" on Bob. Use "development" locally.
# Default: production
NODE_ENV=production


# -----------------------------------------------------------------------------
# 2. AI MODEL KEYS
# -----------------------------------------------------------------------------

# OpenAI API key — used by openclaw and voice-receptionist
# Get it at: https://platform.openai.com/api-keys
# REQUIRED
OPENAI_API_KEY=sk-...

# Anthropic API key — used by openclaw (Conductor Claude model)
# Get it at: https://console.anthropic.com/settings/keys
# REQUIRED
ANTHROPIC_API_KEY=sk-ant-...

# The primary conductor model OpenClaw uses for orchestration decisions.
# Recommended: claude-3-5-sonnet-20241022  (best cost/performance balance)
# Options: claude-3-opus-20240229 | claude-3-5-sonnet-20241022 | gpt-4o | gpt-4-turbo
# Default: claude-3-5-sonnet-20241022
CONDUCTOR_MODEL=claude-3-5-sonnet-20241022


# -----------------------------------------------------------------------------
# 3. REDIS
# -----------------------------------------------------------------------------

# Redis is configured internally — no external env vars needed.
# REDIS_URL is injected into each service automatically as redis://redis:6379
# This section is informational only.


# -----------------------------------------------------------------------------
# 4. OLLAMA — External service on Maestro (64GB iMac)
# -----------------------------------------------------------------------------

# Full URL to the Ollama instance running natively on Maestro.
# Maestro must be on the same LAN as Bob, or accessible via tailscale/VPN.
# Format: http://<MAESTRO_IP>:11434
# Tip: Assign Maestro a static LAN IP via your router's DHCP reservations.
# REQUIRED if using local models
OLLAMA_HOST=http://192.168.1.XXX:11434


# -----------------------------------------------------------------------------
# 5. VOICE RECEPTIONIST (Twilio)
# -----------------------------------------------------------------------------

# Twilio Account SID — found in Twilio Console dashboard
# Format: ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# REQUIRED
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Twilio Auth Token — found in Twilio Console dashboard (keep secret!)
# REQUIRED
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here

# The Symphony business phone number provisioned in Twilio.
# Format: E.164  e.g.  +18005551234
# REQUIRED
SYMPHONY_PHONE=+1XXXXXXXXXX


# -----------------------------------------------------------------------------
# 6. D-TOOLS CLOUD
# -----------------------------------------------------------------------------

# D-Tools Cloud API key for project and inventory integration.
# Obtain from: D-Tools Cloud Settings > Integration > Developer > API Keys
# REQUIRED
DTOOLS_API_KEY=your_dtools_api_key_here

# D-Tools Cloud REST API base URL.
# Only change this if D-Tools issues a new API version.
# Default: https://api.d-tools.com/v2
DTOOLS_BASE_URL=https://api.d-tools.com/v2


# -----------------------------------------------------------------------------
# 7. TELEGRAM BOT (@ConductorBob_bot)
# -----------------------------------------------------------------------------

# Bot token issued by @BotFather on Telegram.
# Steps: open Telegram → message @BotFather → /newbot → copy token
# Format: 123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ
# REQUIRED
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your personal Telegram chat ID (owner/admin).
# Steps: message @userinfobot on Telegram → it replies with your chat ID.
# This restricts bot commands to only your account.
# Format: integer  e.g.  123456789
# REQUIRED
TELEGRAM_OWNER_CHAT_ID=123456789


# -----------------------------------------------------------------------------
# 8. HOME ASSISTANT & MQTT
# -----------------------------------------------------------------------------

# Full URL to your Home Assistant instance (include port if non-standard).
# Examples:
#   http://192.168.1.50:8123       (local HA OS / Container)
#   http://homeassistant.local:8123
#   https://ha.yourdomain.com      (Nabu Casa / reverse proxy)
# REQUIRED
HA_URL=http://192.168.1.XXX:8123

# Home Assistant Long-Lived Access Token.
# Steps: HA → Profile → Security → Long-Lived Access Tokens → Create token
# REQUIRED
HA_TOKEN=your_ha_long_lived_access_token_here

# IP or hostname of your MQTT broker (usually the same host as HA or a
# dedicated broker like Mosquitto).
# REQUIRED
MQTT_BROKER=192.168.1.XXX

# MQTT broker port.
# Default: 1883 (unencrypted)  |  8883 (TLS)
MQTT_PORT=1883

# MQTT credentials — leave blank if your broker allows anonymous connections.
# OPTIONAL
MQTT_USERNAME=
MQTT_PASSWORD=


# -----------------------------------------------------------------------------
# 9. PER-SERVICE LOG LEVELS
# -----------------------------------------------------------------------------
# Valid values: error | warn | info | debug | trace
# Defaults to "info" if not set.

OPENCLAW_LOG_LEVEL=info
VOICE_LOG_LEVEL=info
DTOOLS_LOG_LEVEL=info
TELEGRAM_LOG_LEVEL=info
HA_LOG_LEVEL=info
