# Bob the Conductor — Phase 2 Voice Receptionist
# Environment Variables
# ───────────────────────────────────────────────────────────────────────────────
# Copy this file to .env and fill in your values.
# NEVER commit .env to source control.
# ───────────────────────────────────────────────────────────────────────────────

# ───────────────────────────────────────────────────────────────────────────────
# OPENAI
# ───────────────────────────────────────────────────────────────────────────────

# OpenAI API key (required)
OPENAI_API_KEY=sk-...

# OpenAI Realtime model (default: gpt-4o-realtime-preview)
OPENAI_REALTIME_MODEL=gpt-4o-realtime-preview

# OpenAI Realtime API URL
OPENAI_REALTIME_URL=wss://api.openai.com/v1/realtime


# ───────────────────────────────────────────────────────────────────────────────
# TWILIO
# ───────────────────────────────────────────────────────────────────────────────

# Twilio Account SID (from Twilio Console)
TWILIO_ACCOUNT_SID=AC...

# Twilio Auth Token (from Twilio Console)
TWILIO_AUTH_TOKEN=...

# Twilio phone number in E.164 format (e.g., +13035550100)
TWILIO_PHONE_NUMBER=+1303...

# Twilio TwiML App SID (optional — auto-created if not set)
TWILIO_TWIML_APP_SID=AP...


# ───────────────────────────────────────────────────────────────────────────────
# SERVER
# ───────────────────────────────────────────────────────────────────────────────

# Your server's public base URL (no trailing slash)
# Use ngrok URL for local dev, or your server domain in production
SERVER_BASE_URL=https://your-server.ngrok.io

# Server port
SERVER_PORT=8000

# Environment (development | staging | production)
ENVIRONMENT=development


# ───────────────────────────────────────────────────────────────────────────────
# BUSINESS
# ───────────────────────────────────────────────────────────────────────────────

# Owner's cell phone number (E.164 format) — receives escalation alerts
OWNER_CELL_NUMBER=+13035559999

# Timezone for business hours (IANA format)
BUSINESS_TIMEZONE=America/Denver

# Company website
COMPANY_WEBSITE=symphonysmarthomes.com

# Service area (used in Bob's prompts)
SERVICE_AREA=the Denver metro and Front Range area


# ───────────────────────────────────────────────────────────────────────────────
# TELEGRAM BOT
# ───────────────────────────────────────────────────────────────────────────────

# Telegram bot token (from @BotFather)
TELEGRAM_BOT_TOKEN=...

# Owner's Telegram chat ID (get via @userinfobot)
TELEGRAM_OWNER_CHAT_ID=...


# ───────────────────────────────────────────────────────────────────────────────
# CALLER MEMORY (SQLite)
# ───────────────────────────────────────────────────────────────────────────────

# Path to the SQLite caller memory database
# Default: caller_memory.db in the voice_receptionist/v2 directory
CALLER_MEMORY_DB=./caller_memory.db


# ───────────────────────────────────────────────────────────────────────────────
# RECORDING & TRANSCRIPTION
# ───────────────────────────────────────────────────────────────────────────────

# Enable call recording (true/false)
RECORDING_ENABLED=true

# Enable Twilio transcription (true/false)
TRANSCRIPTION_ENABLED=true

# Recording storage: 'twilio' (default) or 's3'
RECORDING_STORAGE=twilio

# S3 bucket for recordings (only if RECORDING_STORAGE=s3)
S3_RECORDINGS_BUCKET=

# AWS credentials (only if RECORDING_STORAGE=s3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1


# ───────────────────────────────────────────────────────────────────────────────
# EMERGENCY
# ───────────────────────────────────────────────────────────────────────────────

# Cool-down between emergency alerts per caller (seconds)
EMERGENCY_COOLDOWN_SECONDS=300


# ───────────────────────────────────────────────────────────────────────────────
# CALENDAR INTEGRATION (optional)
# ───────────────────────────────────────────────────────────────────────────────

# Google Calendar ID (for checking appointment availability)
GOOGLE_CALENDAR_ID=primary

# Google OAuth credentials (JSON file path or base64-encoded JSON key file)
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=./google-service-account.json
